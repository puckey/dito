"use strict";

exports.__esModule = true;
exports.normalizeDataPath = normalizeDataPath;

require("core-js/modules/es.array.splice.js");

require("core-js/modules/es.array.join.js");

var _parseDataPath = require("./parseDataPath");

function normalizeDataPath(path) {
  path = (0, _parseDataPath.parseDataPath)(path);

  for (var i = 0; i < path.length; i++) {
    var token = path[i];

    if (token === '.' || token === '..' && i === 0) {
      path.splice(i, 1);
      i--;
    } else if (token === '..') {
      path.splice(--i, 2);
      i--;
    } else if (token === '') {
      path.splice(0, i + 1);
      i = 0;
    }
  }

  return path.join('/');
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRhUGF0aC9ub3JtYWxpemVEYXRhUGF0aC5qcyJdLCJuYW1lcyI6WyJub3JtYWxpemVEYXRhUGF0aCIsInBhdGgiLCJpIiwibGVuZ3RoIiwidG9rZW4iLCJzcGxpY2UiLCJqb2luIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFFTyxTQUFTQSxpQkFBVCxDQUEyQkMsSUFBM0IsRUFBaUM7QUFDdENBLEVBQUFBLElBQUksR0FBRyxrQ0FBY0EsSUFBZCxDQUFQOztBQUVBLE9BQUssSUFBSUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBR0QsSUFBSSxDQUFDRSxNQUF6QixFQUFpQ0QsQ0FBQyxFQUFsQyxFQUFzQztBQUNwQyxRQUFNRSxLQUFLLEdBQUdILElBQUksQ0FBQ0MsQ0FBRCxDQUFsQjs7QUFDQSxRQUFJRSxLQUFLLEtBQUssR0FBVixJQUFpQkEsS0FBSyxLQUFLLElBQVYsSUFBa0JGLENBQUMsS0FBSyxDQUE3QyxFQUFnRDtBQUM5Q0QsTUFBQUEsSUFBSSxDQUFDSSxNQUFMLENBQVlILENBQVosRUFBZSxDQUFmO0FBQ0FBLE1BQUFBLENBQUM7QUFDRixLQUhELE1BR08sSUFBSUUsS0FBSyxLQUFLLElBQWQsRUFBb0I7QUFDekJILE1BQUFBLElBQUksQ0FBQ0ksTUFBTCxDQUFZLEVBQUVILENBQWQsRUFBaUIsQ0FBakI7QUFDQUEsTUFBQUEsQ0FBQztBQUNGLEtBSE0sTUFHQSxJQUFJRSxLQUFLLEtBQUssRUFBZCxFQUFrQjtBQUd2QkgsTUFBQUEsSUFBSSxDQUFDSSxNQUFMLENBQVksQ0FBWixFQUFlSCxDQUFDLEdBQUcsQ0FBbkI7QUFDQUEsTUFBQUEsQ0FBQyxHQUFHLENBQUo7QUFDRDtBQUNGOztBQUNELFNBQU9ELElBQUksQ0FBQ0ssSUFBTCxDQUFVLEdBQVYsQ0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VEYXRhUGF0aCB9IGZyb20gJy4vcGFyc2VEYXRhUGF0aCdcblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZURhdGFQYXRoKHBhdGgpIHtcbiAgcGF0aCA9IHBhcnNlRGF0YVBhdGgocGF0aClcbiAgLy8gTm9ybWFsaXplIHJlbGF0aXZlIHRva2VucyBhbmQgY29uY2F0ZW5hdGVkIGFic29sdXRlIHBhdGhzLlxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0b2tlbiA9IHBhdGhbaV1cbiAgICBpZiAodG9rZW4gPT09ICcuJyB8fCB0b2tlbiA9PT0gJy4uJyAmJiBpID09PSAwKSB7XG4gICAgICBwYXRoLnNwbGljZShpLCAxKVxuICAgICAgaS0tXG4gICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJy4uJykge1xuICAgICAgcGF0aC5zcGxpY2UoLS1pLCAyKVxuICAgICAgaS0tXG4gICAgfSBlbHNlIGlmICh0b2tlbiA9PT0gJycpIHtcbiAgICAgIC8vIFRoZSBiZWdpbm5pbmcgb2YgYSBjb25jYXRlbmF0ZWQgYWJzb2x1dGUgcGF0aDpcbiAgICAgIC8vIFN0YXJ0IGZyb20gc2NyYXRjaCwgc2VlIGBwYXJzZURhdGFQYXRoLnRlc3QuanNgXG4gICAgICBwYXRoLnNwbGljZSgwLCBpICsgMSlcbiAgICAgIGkgPSAwXG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoLmpvaW4oJy8nKVxufVxuIl19