"use strict";

var _setValueAtDataPath = require("./setValueAtDataPath");

describe('setValueAtDataPath()', function () {
  var data = {
    object: {
      array: [{}],
      number: 10
    }
  };
  var add = {
    prop: 'new'
  };
  it('should add data at a path to a given object', function () {
    expect(function () {
      return (0, _setValueAtDataPath.setValueAtDataPath)(data, 'object.array[0].added', add);
    }).not.toThrow();
    expect(data.object.array[0].added).toStrictEqual(add);
  });
  it('should add data at a path to a given array', function () {
    expect(function () {
      return (0, _setValueAtDataPath.setValueAtDataPath)(data, 'object.array[1]', add);
    }).not.toThrow();
    expect(data.object.array[1]).toStrictEqual(add);
  });
  it('should throw an error with faulty paths', function () {
    expect(function () {
      return (0, _setValueAtDataPath.setValueAtDataPath)(data, 'object/unknown/prop', add);
    }).toThrow();
  });
  it('should throw an error with invalid target', function () {
    expect(function () {
      return (0, _setValueAtDataPath.setValueAtDataPath)(data, 'object/number/invalid', add);
    }).toThrow('Invalid path: object/number/invalid');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kYXRhUGF0aC9zZXRWYWx1ZUF0RGF0YVBhdGgudGVzdC5qcyJdLCJuYW1lcyI6WyJkZXNjcmliZSIsImRhdGEiLCJvYmplY3QiLCJhcnJheSIsIm51bWJlciIsImFkZCIsInByb3AiLCJpdCIsImV4cGVjdCIsIm5vdCIsInRvVGhyb3ciLCJhZGRlZCIsInRvU3RyaWN0RXF1YWwiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBRUFBLFFBQVEsQ0FBQyxzQkFBRCxFQUF5QixZQUFNO0FBQ3JDLE1BQU1DLElBQUksR0FBRztBQUNYQyxJQUFBQSxNQUFNLEVBQUU7QUFDTkMsTUFBQUEsS0FBSyxFQUFFLENBQ0wsRUFESyxDQUREO0FBSU5DLE1BQUFBLE1BQU0sRUFBRTtBQUpGO0FBREcsR0FBYjtBQVNBLE1BQU1DLEdBQUcsR0FBRztBQUFFQyxJQUFBQSxJQUFJLEVBQUU7QUFBUixHQUFaO0FBRUFDLEVBQUFBLEVBQUUsQ0FBQyw2Q0FBRCxFQUFnRCxZQUFNO0FBQ3REQyxJQUFBQSxNQUFNLENBQUM7QUFBQSxhQUFNLDRDQUFtQlAsSUFBbkIsRUFBeUIsdUJBQXpCLEVBQWtESSxHQUFsRCxDQUFOO0FBQUEsS0FBRCxDQUFOLENBQ0dJLEdBREgsQ0FDT0MsT0FEUDtBQUVBRixJQUFBQSxNQUFNLENBQUNQLElBQUksQ0FBQ0MsTUFBTCxDQUFZQyxLQUFaLENBQWtCLENBQWxCLEVBQXFCUSxLQUF0QixDQUFOLENBQW1DQyxhQUFuQyxDQUFpRFAsR0FBakQ7QUFDRCxHQUpDLENBQUY7QUFNQUUsRUFBQUEsRUFBRSxDQUFDLDRDQUFELEVBQStDLFlBQU07QUFDckRDLElBQUFBLE1BQU0sQ0FBQztBQUFBLGFBQU0sNENBQW1CUCxJQUFuQixFQUF5QixpQkFBekIsRUFBNENJLEdBQTVDLENBQU47QUFBQSxLQUFELENBQU4sQ0FBK0RJLEdBQS9ELENBQW1FQyxPQUFuRTtBQUNBRixJQUFBQSxNQUFNLENBQUNQLElBQUksQ0FBQ0MsTUFBTCxDQUFZQyxLQUFaLENBQWtCLENBQWxCLENBQUQsQ0FBTixDQUE2QlMsYUFBN0IsQ0FBMkNQLEdBQTNDO0FBQ0QsR0FIQyxDQUFGO0FBS0FFLEVBQUFBLEVBQUUsQ0FBQyx5Q0FBRCxFQUE0QyxZQUFNO0FBQ2xEQyxJQUFBQSxNQUFNLENBQUM7QUFBQSxhQUFNLDRDQUFtQlAsSUFBbkIsRUFBeUIscUJBQXpCLEVBQWdESSxHQUFoRCxDQUFOO0FBQUEsS0FBRCxDQUFOLENBQW1FSyxPQUFuRTtBQUNELEdBRkMsQ0FBRjtBQUlBSCxFQUFBQSxFQUFFLENBQUMsMkNBQUQsRUFBOEMsWUFBTTtBQUNwREMsSUFBQUEsTUFBTSxDQUFDO0FBQUEsYUFBTSw0Q0FBbUJQLElBQW5CLEVBQXlCLHVCQUF6QixFQUFrREksR0FBbEQsQ0FBTjtBQUFBLEtBQUQsQ0FBTixDQUNHSyxPQURILENBQ1cscUNBRFg7QUFFRCxHQUhDLENBQUY7QUFJRCxDQS9CTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2V0VmFsdWVBdERhdGFQYXRoIH0gZnJvbSAnLi9zZXRWYWx1ZUF0RGF0YVBhdGgnXG5cbmRlc2NyaWJlKCdzZXRWYWx1ZUF0RGF0YVBhdGgoKScsICgpID0+IHtcbiAgY29uc3QgZGF0YSA9IHtcbiAgICBvYmplY3Q6IHtcbiAgICAgIGFycmF5OiBbXG4gICAgICAgIHt9XG4gICAgICBdLFxuICAgICAgbnVtYmVyOiAxMFxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFkZCA9IHsgcHJvcDogJ25ldycgfVxuXG4gIGl0KCdzaG91bGQgYWRkIGRhdGEgYXQgYSBwYXRoIHRvIGEgZ2l2ZW4gb2JqZWN0JywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBzZXRWYWx1ZUF0RGF0YVBhdGgoZGF0YSwgJ29iamVjdC5hcnJheVswXS5hZGRlZCcsIGFkZCkpXG4gICAgICAubm90LnRvVGhyb3coKVxuICAgIGV4cGVjdChkYXRhLm9iamVjdC5hcnJheVswXS5hZGRlZCkudG9TdHJpY3RFcXVhbChhZGQpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBhZGQgZGF0YSBhdCBhIHBhdGggdG8gYSBnaXZlbiBhcnJheScsICgpID0+IHtcbiAgICBleHBlY3QoKCkgPT4gc2V0VmFsdWVBdERhdGFQYXRoKGRhdGEsICdvYmplY3QuYXJyYXlbMV0nLCBhZGQpKS5ub3QudG9UaHJvdygpXG4gICAgZXhwZWN0KGRhdGEub2JqZWN0LmFycmF5WzFdKS50b1N0cmljdEVxdWFsKGFkZClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdpdGggZmF1bHR5IHBhdGhzJywgKCkgPT4ge1xuICAgIGV4cGVjdCgoKSA9PiBzZXRWYWx1ZUF0RGF0YVBhdGgoZGF0YSwgJ29iamVjdC91bmtub3duL3Byb3AnLCBhZGQpKS50b1Rocm93KClcbiAgfSlcblxuICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdpdGggaW52YWxpZCB0YXJnZXQnLCAoKSA9PiB7XG4gICAgZXhwZWN0KCgpID0+IHNldFZhbHVlQXREYXRhUGF0aChkYXRhLCAnb2JqZWN0L251bWJlci9pbnZhbGlkJywgYWRkKSlcbiAgICAgIC50b1Rocm93KCdJbnZhbGlkIHBhdGg6IG9iamVjdC9udW1iZXIvaW52YWxpZCcpXG4gIH0pXG59KVxuIl19