"use strict";

require("core-js/modules/es.regexp.exec.js");

require("core-js/modules/es.string.replace.js");

var _format = require("./format");

describe('format()', function () {
  var integer = 123456789;
  var float = 123456.789;
  var date = new Date(2012, 5, 9, 22, 45, 30);
  it('should return undefined when no value is given', function () {
    expect((0, _format.format)()).toBe(undefined);
  });
  it('should return null when value is null', function () {
    expect((0, _format.format)(null)).toBe(null);
    expect((0, _format.format)(null, {
      number: true
    })).toBe(null);
    expect((0, _format.format)(null, {
      date: true
    })).toBe(null);
    expect((0, _format.format)(null, {
      time: true
    })).toBe(null);
  });
  it('should use the en-US locale by default', function () {
    expect((0, _format.format)(integer)).toBe('123,456,789');
    expect((0, _format.format)(float)).toBe('123,456.789');
    expect((0, _format.format)(date)).toBe('June 9, 2012, 10:45:30 PM');
  });
  it('should format numbers with different locale and default options', function () {
    expect((0, _format.format)(integer, {
      locale: 'de-DE'
    })).toBe('123.456.789');
    expect((0, _format.format)(float, {
      locale: 'de-DE'
    })).toBe('123.456,789');
  });
  it('should format dates with different locale and default options', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE'
    })).toBe('9. Juni 2012, 22:45:30');
  });
  it('should format string as numbers if told so', function () {
    expect((0, _format.format)('123456789', {
      locale: 'de-DE',
      number: true
    })).toBe('123.456.789');
  });
  it('should format numbers as dates if told so', function () {
    expect((0, _format.format)(integer, {
      locale: 'de-DE',
      date: false,
      time: true
    })).toBe('11:17:36');
    expect((0, _format.format)(integer, {
      locale: 'de-DE',
      date: true,
      time: false
    })).toBe('2. Januar 1970');
    expect((0, _format.format)(integer, {
      locale: 'de-DE',
      date: true,
      time: true
    })).toBe('2. Januar 1970, 11:17:36');
  });
  it('should omit time when `options.date = true`', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      date: true
    })).toBe('9. Juni 2012');
  });
  it('should omit date when `options.time = true`', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      time: true
    })).toBe('22:45:30');
  });
  it('should omit time when `options.time = false`', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      time: false
    })).toBe('9. Juni 2012');
  });
  it('should omit date when `options.date = false`', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      date: false
    })).toBe('22:45:30');
  });
  it("should return an empty string when `options.date = false` and `options.time = false`", function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      date: false,
      time: false
    })).toBe('');
  });
  it('should support fine-grained control of `options.number`', function () {
    expect((0, _format.format)(integer, {
      locale: 'de-DE',
      number: {
        style: 'currency',
        currency: 'EUR'
      }
    })).toBe('123.456.789,00 €');
    expect((0, _format.format)(integer, {
      locale: 'de-CH',
      number: {
        style: 'currency',
        currency: 'CHF'
      }
    })).toBe('CHF 123’456’789.00');
    expect((0, _format.format)(float, {
      locale: 'de-DE',
      number: {
        style: 'currency',
        currency: 'EUR'
      }
    })).toBe('123.456,79 €');
    expect((0, _format.format)(float, {
      locale: 'de-CH',
      number: {
        style: 'currency',
        currency: 'CHF'
      }
    })).toBe('CHF 123’456.79');
  });
  it('should support fine-grained control of `options.date`', function () {
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      date: {
        month: 'short',
        day: false
      },
      time: false
    })).toBe('Juni 2012');
    expect((0, _format.format)(date, {
      locale: 'de-DE',
      date: {
        year: false,
        day: '2-digit'
      },
      time: false
    })).toBe('09. Juni');
  });
  it('should support custom `options.number.format()` overrides', function () {
    expect((0, _format.format)(integer, {
      locale: 'en-GB',
      number: {
        style: 'currency',
        currency: 'GBP',
        format: function format(value, type) {
          return type === 'group' ? "\u2019" : type === 'decimal' ? ',' : undefined;
        }
      }
    })).toBe("\xA3123\u2019456\u2019789,00");
  });
  it("should support custom `options.date.format()` and `options.time.format()` overrides", function () {
    expect((0, _format.format)(date, {
      locale: 'en-GB',
      date: {
        day: 'numeric',
        month: 'numeric',
        year: 'numeric',
        format: function format(value, type, options) {
          return type === 'literal' && options.month === 'numeric' ? value.replace(/\//, '.').replace(/,/, '') : undefined;
        }
      },
      time: {
        hour: '2-digit',
        minute: '2-digit',
        second: '2-digit',
        format: function format(value) {
          return value.replace(/:/, '_');
        }
      }
    })).toBe('09.06.2012 22_45_30');
  });
  it('should handle string values', function () {
    expect((0, _format.format)('2016-05-24T15:54:14.876Z', {
      date: true
    })).toBe('May 24, 2016');
    expect((0, _format.format)('2016-05-24T15:54:14.876Z', {
      date: true,
      time: true
    })).toBe('May 24, 2016, 05:54:14 PM');
    expect((0, _format.format)('123456789', {
      number: true
    })).toBe('123,456,789');
    expect((0, _format.format)('123456.789', {
      number: true
    })).toBe('123,456.789');
    expect((0, _format.format)('Hello World')).toBe('Hello World');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJpbmcvZm9ybWF0LnRlc3QuanMiXSwibmFtZXMiOlsiZGVzY3JpYmUiLCJpbnRlZ2VyIiwiZmxvYXQiLCJkYXRlIiwiRGF0ZSIsIml0IiwiZXhwZWN0IiwidG9CZSIsInVuZGVmaW5lZCIsIm51bWJlciIsInRpbWUiLCJsb2NhbGUiLCJzdHlsZSIsImN1cnJlbmN5IiwibW9udGgiLCJkYXkiLCJ5ZWFyIiwiZm9ybWF0IiwidmFsdWUiLCJ0eXBlIiwib3B0aW9ucyIsInJlcGxhY2UiLCJob3VyIiwibWludXRlIiwic2Vjb25kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQUEsUUFBUSxDQUFDLFVBQUQsRUFBYSxZQUFNO0FBQ3pCLE1BQU1DLE9BQU8sR0FBRyxTQUFoQjtBQUNBLE1BQU1DLEtBQUssR0FBRyxVQUFkO0FBQ0EsTUFBTUMsSUFBSSxHQUFHLElBQUlDLElBQUosQ0FBUyxJQUFULEVBQWUsQ0FBZixFQUFrQixDQUFsQixFQUFxQixFQUFyQixFQUF5QixFQUF6QixFQUE2QixFQUE3QixDQUFiO0FBRUFDLEVBQUFBLEVBQUUsQ0FBQyxnREFBRCxFQUFtRCxZQUFNO0FBQ3pEQyxJQUFBQSxNQUFNLENBQUMscUJBQUQsQ0FBTixDQUFpQkMsSUFBakIsQ0FBc0JDLFNBQXRCO0FBQ0QsR0FGQyxDQUFGO0FBSUFILEVBQUFBLEVBQUUsQ0FBQyx1Q0FBRCxFQUEwQyxZQUFNO0FBQ2hEQyxJQUFBQSxNQUFNLENBQUMsb0JBQU8sSUFBUCxDQUFELENBQU4sQ0FBcUJDLElBQXJCLENBQTBCLElBQTFCO0FBQ0FELElBQUFBLE1BQU0sQ0FBQyxvQkFBTyxJQUFQLEVBQWE7QUFBRUcsTUFBQUEsTUFBTSxFQUFFO0FBQVYsS0FBYixDQUFELENBQU4sQ0FBdUNGLElBQXZDLENBQTRDLElBQTVDO0FBQ0FELElBQUFBLE1BQU0sQ0FBQyxvQkFBTyxJQUFQLEVBQWE7QUFBRUgsTUFBQUEsSUFBSSxFQUFFO0FBQVIsS0FBYixDQUFELENBQU4s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QztBQUNELEdBVkMsQ0FBRjtBQVdELENBak1PLENBQVIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICcuL2Zvcm1hdCdcblxuZGVzY3JpYmUoJ2Zvcm1hdCgpJywgKCkgPT4ge1xuICBjb25zdCBpbnRlZ2VyID0gMTIzNDU2Nzg5XG4gIGNvbnN0IGZsb2F0ID0gMTIzNDU2Ljc4OVxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoMjAxMiwgNSwgOSwgMjIsIDQ1LCAzMClcblxuICBpdCgnc2hvdWxkIHJldHVybiB1bmRlZmluZWQgd2hlbiBubyB2YWx1ZSBpcyBnaXZlbicsICgpID0+IHtcbiAgICBleHBlY3QoZm9ybWF0KCkpLnRvQmUodW5kZWZpbmVkKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgcmV0dXJuIG51bGwgd2hlbiB2YWx1ZSBpcyBudWxsJywgKCkgPT4ge1xuICAgIGV4cGVjdChmb3JtYXQobnVsbCkpLnRvQmUobnVsbClcbiAgICBleHBlY3QoZm9ybWF0KG51bGwsIHsgbnVtYmVyOiB0cnVlIH0pKS50b0JlKG51bGwpXG4gICAgZXhwZWN0KGZvcm1hdChudWxsLCB7IGRhdGU6IHRydWUgfSkpLnRvQmUobnVsbClcbiAgICBleHBlY3QoZm9ybWF0KG51bGwsIHsgdGltZTogdHJ1ZSB9KSkudG9CZShudWxsKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgdXNlIHRoZSBlbi1VUyBsb2NhbGUgYnkgZGVmYXVsdCcsICgpID0+IHtcbiAgICBleHBlY3QoZm9ybWF0KGludGVnZXIpKS50b0JlKCcxMjMsNDU2LDc4OScpXG4gICAgZXhwZWN0KGZvcm1hdChmbG9hdCkpLnRvQmUoJzEyMyw0NTYuNzg5JylcbiAgICBleHBlY3QoZm9ybWF0KGRhdGUpKS50b0JlKCdKdW5lIDksIDIwMTIsIDEwOjQ1OjMwIFBNJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIGZvcm1hdCBudW1iZXJzIHdpdGggZGlmZmVyZW50IGxvY2FsZSBhbmQgZGVmYXVsdCBvcHRpb25zJywgKCkgPT4ge1xuICAgIGV4cGVjdChmb3JtYXQoaW50ZWdlciwgeyBsb2NhbGU6ICdkZS1ERScgfSkpLnRvQmUoJzEyMy40NTYuNzg5JylcbiAgICBleHBlY3QoZm9ybWF0KGZsb2F0LCB7IGxvY2FsZTogJ2RlLURFJyB9KSkudG9CZSgnMTIzLjQ1Niw3ODknKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgZm9ybWF0IGRhdGVzIHdpdGggZGlmZmVyZW50IGxvY2FsZSBhbmQgZGVmYXVsdCBvcHRpb25zJywgKCkgPT4ge1xuICAgIGV4cGVjdChmb3JtYXQoZGF0ZSwgeyBsb2NhbGU6ICdkZS1ERScgfSkpLnRvQmUoJzkuIEp1bmkgMjAxMiwgMjI6NDU6MzAnKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgZm9ybWF0IHN0cmluZyBhcyBudW1iZXJzIGlmIHRvbGQgc28nLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KCcxMjM0NTY3ODknLCB7IGxvY2FsZTogJ2RlLURFJywgbnVtYmVyOiB0cnVlIH0pXG4gICAgKS50b0JlKCcxMjMuNDU2Ljc4OScpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycyBhcyBkYXRlcyBpZiB0b2xkIHNvJywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGZvcm1hdChpbnRlZ2VyLCB7IGxvY2FsZTogJ2RlLURFJywgZGF0ZTogZmFsc2UsIHRpbWU6IHRydWUgfSlcbiAgICApLnRvQmUoJzExOjE3OjM2JylcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoaW50ZWdlciwgeyBsb2NhbGU6ICdkZS1ERScsIGRhdGU6IHRydWUsIHRpbWU6IGZhbHNlIH0pXG4gICAgKS50b0JlKCcyLiBKYW51YXIgMTk3MCcpXG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGludGVnZXIsIHsgbG9jYWxlOiAnZGUtREUnLCBkYXRlOiB0cnVlLCB0aW1lOiB0cnVlIH0pXG4gICAgKS50b0JlKCcyLiBKYW51YXIgMTk3MCwgMTE6MTc6MzYnKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgb21pdCB0aW1lIHdoZW4gYG9wdGlvbnMuZGF0ZSA9IHRydWVgJywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGZvcm1hdChkYXRlLCB7IGxvY2FsZTogJ2RlLURFJywgZGF0ZTogdHJ1ZSB9KVxuICAgICkudG9CZSgnOS4gSnVuaSAyMDEyJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIG9taXQgZGF0ZSB3aGVuIGBvcHRpb25zLnRpbWUgPSB0cnVlYCcsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoZGF0ZSwgeyBsb2NhbGU6ICdkZS1ERScsIHRpbWU6IHRydWUgfSlcbiAgICApLnRvQmUoJzIyOjQ1OjMwJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIG9taXQgdGltZSB3aGVuIGBvcHRpb25zLnRpbWUgPSBmYWxzZWAnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGRhdGUsIHsgbG9jYWxlOiAnZGUtREUnLCB0aW1lOiBmYWxzZSB9KVxuICAgICkudG9CZSgnOS4gSnVuaSAyMDEyJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIG9taXQgZGF0ZSB3aGVuIGBvcHRpb25zLmRhdGUgPSBmYWxzZWAnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGRhdGUsIHsgbG9jYWxlOiAnZGUtREUnLCBkYXRlOiBmYWxzZSB9KVxuICAgICkudG9CZSgnMjI6NDU6MzAnKVxuICB9KVxuXG4gIGl0KGBzaG91bGQgcmV0dXJuIGFuIGVtcHR5IHN0cmluZyB3aGVuIFxcYG9wdGlvbnMuZGF0ZSA9IGZhbHNlXFxgIGFuZCBcXGBvcHRpb25zLnRpbWUgPSBmYWxzZVxcYGAsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoZGF0ZSwgeyBsb2NhbGU6ICdkZS1ERScsIGRhdGU6IGZhbHNlLCB0aW1lOiBmYWxzZSB9KVxuICAgICkudG9CZSgnJylcbiAgfSlcblxuICBpdCgnc2hvdWxkIHN1cHBvcnQgZmluZS1ncmFpbmVkIGNvbnRyb2wgb2YgYG9wdGlvbnMubnVtYmVyYCcsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoaW50ZWdlciwge1xuICAgICAgICBsb2NhbGU6ICdkZS1ERScsXG4gICAgICAgIG51bWJlcjoge1xuICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICAgIGN1cnJlbmN5OiAnRVVSJ1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICkudG9CZSgnMTIzLjQ1Ni43ODksMDDCoOKCrCcpXG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGludGVnZXIsIHtcbiAgICAgICAgbG9jYWxlOiAnZGUtQ0gnLFxuICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICBjdXJyZW5jeTogJ0NIRidcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApLnRvQmUoJ0NIRsKgMTIz4oCZNDU24oCZNzg5LjAwJylcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoZmxvYXQsIHtcbiAgICAgICAgbG9jYWxlOiAnZGUtREUnLFxuICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICBjdXJyZW5jeTogJ0VVUidcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApLnRvQmUoJzEyMy40NTYsNznCoOKCrCcpXG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGZsb2F0LCB7XG4gICAgICAgIGxvY2FsZTogJ2RlLUNIJyxcbiAgICAgICAgbnVtYmVyOiB7XG4gICAgICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICAgICAgY3VycmVuY3k6ICdDSEYnXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKS50b0JlKCdDSEbCoDEyM+KAmTQ1Ni43OScpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBzdXBwb3J0IGZpbmUtZ3JhaW5lZCBjb250cm9sIG9mIGBvcHRpb25zLmRhdGVgJywgKCkgPT4ge1xuICAgIGV4cGVjdChcbiAgICAgIGZvcm1hdChkYXRlLCB7XG4gICAgICAgIGxvY2FsZTogJ2RlLURFJyxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgIG1vbnRoOiAnc2hvcnQnLFxuICAgICAgICAgIGRheTogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgdGltZTogZmFsc2VcbiAgICAgIH0pXG4gICAgKS50b0JlKCdKdW5pIDIwMTInKVxuICAgIGV4cGVjdChcbiAgICAgIGZvcm1hdChkYXRlLCB7XG4gICAgICAgIGxvY2FsZTogJ2RlLURFJyxcbiAgICAgICAgZGF0ZToge1xuICAgICAgICAgIHllYXI6IGZhbHNlLFxuICAgICAgICAgIGRheTogJzItZGlnaXQnXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IGZhbHNlXG4gICAgICB9KVxuICAgICkudG9CZSgnMDkuIEp1bmknKVxuICB9KVxuXG4gIGl0KCdzaG91bGQgc3VwcG9ydCBjdXN0b20gYG9wdGlvbnMubnVtYmVyLmZvcm1hdCgpYCBvdmVycmlkZXMnLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGludGVnZXIsIHtcbiAgICAgICAgbG9jYWxlOiAnZW4tR0InLFxuICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICBjdXJyZW5jeTogJ0dCUCcsXG4gICAgICAgICAgZm9ybWF0OiAodmFsdWUsIHR5cGUpID0+IHR5cGUgPT09ICdncm91cCdcbiAgICAgICAgICAgID8gYOKAmWBcbiAgICAgICAgICAgIDogdHlwZSA9PT0gJ2RlY2ltYWwnXG4gICAgICAgICAgICAgID8gJywnXG4gICAgICAgICAgICAgIDogdW5kZWZpbmVkXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKS50b0JlKGDCozEyM+KAmTQ1NuKAmTc4OSwwMGApXG4gIH0pXG5cbiAgaXQoYHNob3VsZCBzdXBwb3J0IGN1c3RvbSBcXGBvcHRpb25zLmRhdGUuZm9ybWF0KClcXGAgYW5kIFxcYG9wdGlvbnMudGltZS5mb3JtYXQoKVxcYCBvdmVycmlkZXNgLCAoKSA9PiB7XG4gICAgZXhwZWN0KFxuICAgICAgZm9ybWF0KGRhdGUsIHtcbiAgICAgICAgbG9jYWxlOiAnZW4tR0InLFxuICAgICAgICBkYXRlOiB7XG4gICAgICAgICAgZGF5OiAnbnVtZXJpYycsXG4gICAgICAgICAgbW9udGg6ICdudW1lcmljJyxcbiAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICAgICAgZm9ybWF0OiAodmFsdWUsIHR5cGUsIG9wdGlvbnMpID0+IChcbiAgICAgICAgICAgIHR5cGUgPT09ICdsaXRlcmFsJyAmJiBvcHRpb25zLm1vbnRoID09PSAnbnVtZXJpYydcbiAgICAgICAgICAgICAgPyB2YWx1ZS5yZXBsYWNlKC9cXC8vLCAnLicpLnJlcGxhY2UoLywvLCAnJylcbiAgICAgICAgICAgICAgOiB1bmRlZmluZWRcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsXG4gICAgICAgICAgc2Vjb25kOiAnMi1kaWdpdCcsXG4gICAgICAgICAgZm9ybWF0OiB2YWx1ZSA9PiB2YWx1ZS5yZXBsYWNlKC86LywgJ18nKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICkudG9CZSgnMDkuMDYuMjAxMiAyMl80NV8zMCcpXG4gIH0pXG5cbiAgaXQoJ3Nob3VsZCBoYW5kbGUgc3RyaW5nIHZhbHVlcycsICgpID0+IHtcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoJzIwMTYtMDUtMjRUMTU6NTQ6MTQuODc2WicsIHsgZGF0ZTogdHJ1ZSB9KVxuICAgICkudG9CZSgnTWF5IDI0LCAyMDE2JylcbiAgICBleHBlY3QoXG4gICAgICBmb3JtYXQoJzIwMTYtMDUtMjRUMTU6NTQ6MTQuODc2WicsIHsgZGF0ZTogdHJ1ZSwgdGltZTogdHJ1ZSB9KVxuICAgICkudG9CZSgnTWF5IDI0LCAyMDE2LCAwNTo1NDoxNCBQTScpXG4gICAgZXhwZWN0KGZvcm1hdCgnMTIzNDU2Nzg5JywgeyBudW1iZXI6IHRydWUgfSkpLnRvQmUoJzEyMyw0NTYsNzg5JylcbiAgICBleHBlY3QoZm9ybWF0KCcxMjM0NTYuNzg5JywgeyBudW1iZXI6IHRydWUgfSkpLnRvQmUoJzEyMyw0NTYuNzg5JylcbiAgICBleHBlY3QoZm9ybWF0KCdIZWxsbyBXb3JsZCcpKS50b0JlKCdIZWxsbyBXb3JsZCcpXG4gIH0pXG59KVxuIl19